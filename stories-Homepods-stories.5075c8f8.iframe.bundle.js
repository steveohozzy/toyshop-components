"use strict";(self.webpackChunkentertainer_redesign=self.webpackChunkentertainer_redesign||[]).push([[466],{"./src/config/firebase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{db:()=>db});var firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/firebase/app/dist/esm/index.esm.js"),firebase_firestore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js");const app=(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.Wp)({apiKey:"AIzaSyDLmVO4qOiYb8dTm9tIUSUyZZXliuddo1c",authDomain:"storybook-58efc.firebaseapp.com",projectId:"storybook-58efc",storageBucket:"storybook-58efc.firebasestorage.app",messagingSenderId:"10714570266",appId:"1:10714570266:web:1086b72b26588d72193ba3"}),db=(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.aU)(app)},"./src/stories/Homepods.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HomePodsContianer:()=>HomePodsContianer,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Homepods_stories});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),firebase=__webpack_require__("./src/config/firebase.js"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const HomePods=_ref=>{let{textcolor,backgroundcolor,bordercolor,linkhovercolor,pod1isblog,pod1image,pod1alt,pod1title,pod1text,pod1buttontext,pod1link,pod1dataelementtype,pod1datapromotionname,pod1datapromotionindex,pod2isblog,pod2image,pod2alt,pod2title,pod2text,pod2buttontext,pod2link,pod2dataelementtype,pod2datapromotionindex,pod2datapromotionname}=_ref;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("style",{children:"\n\t\n\t.elc-story-modules {\n\t\tmargin: 40px 0 0;\n\t\tpadding: 0;\n\t}\n\t\n\t\t.elc-story-modules ul {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: space-between;\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 0 20px;\n\t\t\tlist-style: none;\n\t\t\tmax-width: 944px;\n\t\t}\n\t\n\t\t\t.elc-story-modules li {\n\t\t\t\tdisplay: flex;\n\t\t\t\tmargin: 0 0 20px;\n\t\t\t}\n\t\n\t\t\t\t.elc-story-modules li a {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tcolor: ".concat(textcolor,";\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tborder: solid 4px ").concat(bordercolor,";\n\t\t\t\t\tborder-radius: 12px;\n\t\t\t\t\tbackground: ").concat(backgroundcolor,";\n\t\t\t\t}\n\t\n\t\t\t\t\t.elc-story-modules li a div {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t\t.elc-story-modules li a div:last-child {\n\t\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t.elc-story-modules .story-module-image {\n\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t.elc-story-modules li a div img, .elc-story-modules li a div iframe {\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t.elc-story-modules li a div iframe {\n\t\t\t\t\t\t\t\theight: 49vw;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t.elc-story-modules .story-module-image img.blog-frame {\n\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t.elc-story-modules h3 {\n\t\t\t\t\t\t\tmargin: 0 0 20px;\n\t\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\t\t\tline-height: 100%;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tcolor: ").concat(textcolor,";\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t.elc-story-modules p {\n\t\t\t\t\t\t\tmargin: 0 0 20px;\n\t\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\tline-height: 140%;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t.elc-story-modules .call-to-action {\n\t\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\tline-height: 100%;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t\t\t\ttransition: color 0.5s;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t.elc-story-modules .call-to-action:hover {\n\t\t\t\t\t\t\t\tcolor: ").concat(linkhovercolor,";\n\t\t\t\t\t\t\t}\n\t\n\t\n\t.elc-story-full-width {\n\t\tmargin: 0 0 40px;\n\t\tpadding: 0;\n\t}\n\t\n\t\t.elc-story-full-width ul {\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 0 20px;\n\t\t\tlist-style: none;\n\t\t\tmax-width: 944px;\n\t\t}\n\t\n\t\t\t.elc-story-full-width li a {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\tcolor: ").concat(textcolor,";\n\t\t\t\ttext-align: center;\n\t\t\t\tborder: solid 4px ").concat(bordercolor,";\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tbackground: ").concat(backgroundcolor,";\n\t\t\t}\n\t\n\t\t\t\t.elc-story-full-width li a div {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\n\t\t\t\t\t.elc-story-full-width li a div:last-child {\n\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t}\n\t\n\t\t\t.elc-story-full-width iframe, .elc-story-full-width img {\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 49vw;\n\t\t\t\tborder-radius: 8px;\n\t\t\t}\n\t\n\t\t\t.elc-story-full-width h3 {\n\t\t\t\tmargin: 0 0 20px;\n    \t\t\tpadding: 0;\n\t\t\t\tfont-size: 18px;\n\t\t\t\tline-height: 100%;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: ").concat(textcolor,";\n\t\t\t}\n\t\n\t\t\t.elc-story-full-width p {\n\t\t\t\tmargin: 0 0 20px;\n\t\t\t\tpadding: 0;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tline-height: 140%;\n\t\t\t}\n\t\n\t\t\t.elc-story-full-width .call-to-action {\n\t\t\t\tmargin: 0;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tline-height: 100%;\n\t\t\t\tfont-weight: bold;\n\t\t\t\ttext-decoration: underline;\n\t\t\t\ttransition: color 0.5s;\n\t\t\t}\n\t\n\t\t\t\t.elc-story-full-width .call-to-action:hover {\n\t\t\t\t\tcolor: ").concat(linkhovercolor,";\n\t\t\t\t}\n  \n\t@media (min-width: 768px) {\n\t\t\n\t\t.elc-story-modules {\n\t\t\tmargin: 30px 0 0;\n\t\t}\n\t\t\n\t\t\t.elc-story-modules ul {\n\t\t\t\tpadding: 30px 30px 0;\n\t\t\t}\n\t\t\n\t\t\t\t.elc-story-modules li {\n\t\t\t\t\tmargin: 0 0 40px;\n\t\t\t\t\twidth: calc(100% / 2 - 20px);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t.elc-story-modules li a div iframe {\n\t\t\t\t\t\theight: 24.5vw;\n\t\t\t\t\t}\n\t\t\n\t\t.elc-story-full-width {\n\t\t\tmargin: 0 0 30px;\n\t\t}\n\t\t\n\t\t\t.elc-story-full-width ul {\n\t\t\t\tpadding: 0 30px 30px;\n\t\t\t}\n\t\t\n\t\t\t\t.elc-story-full-width li a {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t}\n\t\t\n\t\t\t\t\t.elc-story-full-width li a div {\n\t\t\t\t\t\twidth: calc(100% / 2 - 15px);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t.elc-story-full-width li a div:last-child {\n\t\t\t\t\t\t\tpadding: 30px 30px 30px 0;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t.elc-story-full-width iframe, .elc-story-full-width img {\n\t\t\t\t\t\t\theight: 236px;\n\t\t\t\t\t\t}\n    }\n  \n    \n\t@media (min-width: 1024px) {\n\t\t\n\t\t.elc-story-modules li a div iframe {\n\t\t\theight: 252px;\n\t\t}\n\t\n\t}\n\n    ")}),(0,jsx_runtime.jsx)("div",{class:"elc-story-modules",children:(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsxs)("a",{href:pod1link,title:pod1alt,"data-element-type":pod1dataelementtype,"data-promotion-name":pod1datapromotionname,"data-promotion-index":pod1datapromotionindex,children:[(0,jsx_runtime.jsxs)("div",{class:"story-module-image",children:[pod1isblog&&(0,jsx_runtime.jsx)("img",{src:"https://www.elc.co.uk/medias/elc-blog-frame.png?context=bWFzdGVyfHJvb3R8MTA0ODV8aW1hZ2UvcG5nfGFHUXdMMmcxWWk4eE1qTXlPRFUxTnpnM01URXpOQzlsYkdNdFlteHZaeTFtY21GdFpTNXdibWN8OGQ5ZDljNjUyZDc1MmUyNTZmYmYxODA3ZDJmY2EwZjc0NzE0NWJjZDYxM2I1MjM0NWU3ZjQxMjMzMjBjYjRmZA",alt:pod1alt,title:pod1alt,class:"blog-frame"}),(0,jsx_runtime.jsx)("img",{src:pod1image,alt:pod1alt,title:pod1alt})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{children:pod1title}),(0,jsx_runtime.jsx)("p",{children:pod1text}),(0,jsx_runtime.jsx)("span",{class:"call-to-action",children:pod1buttontext})]})]})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsxs)("a",{href:pod2link,title:pod2alt,"data-element-type":pod2dataelementtype,"data-promotion-name":pod2datapromotionname,"data-promotion-index":pod2datapromotionindex,children:[(0,jsx_runtime.jsxs)("div",{class:"story-module-image",children:[pod2isblog&&(0,jsx_runtime.jsx)("img",{src:"https://www.elc.co.uk/medias/elc-blog-frame.png?context=bWFzdGVyfHJvb3R8MTA0ODV8aW1hZ2UvcG5nfGFHUXdMMmcxWWk4eE1qTXlPRFUxTnpnM01URXpOQzlsYkdNdFlteHZaeTFtY21GdFpTNXdibWN8OGQ5ZDljNjUyZDc1MmUyNTZmYmYxODA3ZDJmY2EwZjc0NzE0NWJjZDYxM2I1MjM0NWU3ZjQxMjMzMjBjYjRmZA",alt:pod2alt,title:pod2alt,class:"blog-frame"}),(0,jsx_runtime.jsx)("img",{src:pod2image,alt:pod2alt,title:pod2alt})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{children:pod2title}),(0,jsx_runtime.jsx)("p",{children:pod2text}),(0,jsx_runtime.jsx)("span",{class:"call-to-action",children:pod2buttontext})]})]})})]})})]})};HomePods.__docgenInfo={description:"Primary UI component for user interaction",methods:[],displayName:"HomePods",props:{pod1isblog:{description:"Home Pod contents",type:{name:"bool"},required:!1},textcolor:{description:"",type:{name:"string"},required:!1},backgroundcolor:{description:"",type:{name:"string"},required:!1},bordercolor:{description:"",type:{name:"string"},required:!1},linkhovercolor:{description:"",type:{name:"string"},required:!1},pod1image:{description:"",type:{name:"string"},required:!1},pod1alt:{description:"",type:{name:"string"},required:!1},pod1title:{description:"",type:{name:"string"},required:!1},pod1text:{description:"",type:{name:"string"},required:!1},pod1buttontext:{description:"",type:{name:"string"},required:!1},pod1link:{description:"",type:{name:"string"},required:!1},pod1dataelementtype:{description:"",type:{name:"string"},required:!1},pod1datapromotionindex:{description:"",type:{name:"string"},required:!1},pod1datapromotionname:{description:"",type:{name:"string"},required:!1},pod2isblog:{description:"",type:{name:"bool"},required:!1},pod2image:{description:"",type:{name:"string"},required:!1},pod2alt:{description:"",type:{name:"string"},required:!1},pod2title:{description:"",type:{name:"string"},required:!1},pod2text:{description:"",type:{name:"string"},required:!1},pod2buttontext:{description:"",type:{name:"string"},required:!1},pod2link:{description:"",type:{name:"string"},required:!1},pod2dataelementtype:{description:"",type:{name:"string"},required:!1},pod2datapromotionindex:{description:"",type:{name:"string"},required:!1},pod2datapromotionname:{description:"",type:{name:"string"},required:!1}}};var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api");const Homepods_stories={title:"ELC/Home Pods",component:HomePods,parameters:{layout:"centered"}},HomePodsContianer={args:{textcolor:"",backgroundcolor:"",bordercolor:"",linkhovercolor:"",pod1isblog:!1,pod1image:"",pod1alt:"",pod1title:"",pod1text:"",pod1buttontext:"",pod1link:"",pod1dataelementtype:"",pod1datapromotionindex:"",pod1datapromotionname:"",pod2isblog:!0,pod2image:"",pod2alt:"",pod2title:"",pod2text:"",pod2buttontext:"",pod2link:"",pod2dataelementtype:"",pod2datapromotionindex:"",pod2datapromotionname:""},render:function Render(args){const[currentArgs,updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)(),hasLoadedFromFirestore=(0,react.useRef)(!1);(0,react.useEffect)((()=>{(async()=>{try{const docRef=(0,index_esm.H9)(firebase.db,"stories","homepods"),snapshot=await(0,index_esm.x7)(docRef);if(snapshot.exists()){const data=snapshot.data();updateArgs((0,objectSpread2.A)((0,objectSpread2.A)({},args),data))}else console.warn("No such document: homepods")}catch(err){console.error("Error fetching from Firestore:",err)}finally{hasLoadedFromFirestore.current=!0}})()}),[]);const syncAllArgsToFirebase=(0,react.useCallback)((async newArgs=>{if(hasLoadedFromFirestore.current)try{const docRef=(0,index_esm.H9)(firebase.db,"stories","homepods"),cleanedArgs={};for(const[key,value]of Object.entries(newArgs))cleanedArgs[key]="string"==typeof value&&""===value.trim()?"":value;await(0,index_esm.mZ)(docRef,cleanedArgs),console.log("✅ Firestore updated:",cleanedArgs)}catch(err){console.error("Error updating Firestore:",err)}}),[]);return(0,react.useEffect)((()=>{hasLoadedFromFirestore.current&&syncAllArgsToFirebase(currentArgs)}),[currentArgs,syncAllArgsToFirebase]),(0,jsx_runtime.jsx)(HomePods,(0,objectSpread2.A)({},args))}},__namedExportsOrder=["HomePodsContianer"];HomePodsContianer.parameters={...HomePodsContianer.parameters,docs:{...HomePodsContianer.parameters?.docs,source:{originalSource:"{\n  args: {\n    textcolor: '',\n    backgroundcolor: '',\n    bordercolor: '',\n    linkhovercolor: '',\n    pod1isblog: false,\n    pod1image: '',\n    pod1alt: '',\n    pod1title: '',\n    pod1text: '',\n    pod1buttontext: '',\n    pod1link: '',\n    pod1dataelementtype: '',\n    pod1datapromotionindex: '',\n    pod1datapromotionname: '',\n    pod2isblog: true,\n    pod2image: '',\n    pod2alt: '',\n    pod2title: '',\n    pod2text: '',\n    pod2buttontext: '',\n    pod2link: '',\n    pod2dataelementtype: '',\n    pod2datapromotionindex: '',\n    pod2datapromotionname: ''\n  },\n  render: function Render(args) {\n    const [currentArgs, updateArgs] = useArgs();\n    const hasLoadedFromFirestore = useRef(false);\n\n    // --- Load all fields from Firestore once ---\n    useEffect(() => {\n      const loadFromFirebase = async () => {\n        try {\n          const docRef = doc(db, 'stories', 'homepods');\n          const snapshot = await getDoc(docRef);\n          if (snapshot.exists()) {\n            const data = snapshot.data();\n\n            // Merge data from Firestore into Storybook args\n            updateArgs({\n              ...args,\n              ...data\n            });\n          } else {\n            console.warn('No such document: homepods');\n          }\n        } catch (err) {\n          console.error('Error fetching from Firestore:', err);\n        } finally {\n          hasLoadedFromFirestore.current = true;\n        }\n      };\n      loadFromFirebase();\n    }, []);\n\n    // --- Generic Firestore sync for all fields ---\n    const syncAllArgsToFirebase = useCallback(async newArgs => {\n      if (!hasLoadedFromFirestore.current) return; // skip before load\n\n      try {\n        const docRef = doc(db, 'stories', 'homepods');\n\n        // Clean values before saving\n        const cleanedArgs = {};\n        for (const [key, value] of Object.entries(newArgs)) {\n          // Normalize empty values to empty strings\n          cleanedArgs[key] = typeof value === 'string' && value.trim() === '' ? '' : value;\n        }\n        await updateDoc(docRef, cleanedArgs);\n        console.log('✅ Firestore updated:', cleanedArgs);\n      } catch (err) {\n        console.error('Error updating Firestore:', err);\n      }\n    }, []);\n\n    // --- Watch for *any* arg change and sync ---\n    useEffect(() => {\n      if (!hasLoadedFromFirestore.current) return;\n      syncAllArgsToFirebase(currentArgs);\n    }, [currentArgs, syncAllArgsToFirebase]);\n    return <HomePods {...args} />;\n  }\n}",...HomePodsContianer.parameters?.docs?.source}}}}}]);