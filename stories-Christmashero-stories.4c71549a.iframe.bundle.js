"use strict";(self.webpackChunkentertainer_redesign=self.webpackChunkentertainer_redesign||[]).push([[825],{"./src/config/firebase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{db:()=>db});var firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/firebase/app/dist/esm/index.esm.js"),firebase_firestore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js");const app=(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.Wp)({apiKey:"AIzaSyDLmVO4qOiYb8dTm9tIUSUyZZXliuddo1c",authDomain:"storybook-58efc.firebaseapp.com",projectId:"storybook-58efc",storageBucket:"storybook-58efc.firebasestorage.app",messagingSenderId:"10714570266",appId:"1:10714570266:web:1086b72b26588d72193ba3"}),db=(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.aU)(app)},"./src/stories/Christmashero.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChristmasHeroPods:()=>ChristmasHeroPods,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Christmashero_stories});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),firebase=__webpack_require__("./src/config/firebase.js"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChristmasHero=_ref=>{let{bannerImage,bannerImageAlt,bannerBackgroundPattern,hero1image,hero1alt,hero1link,hero1title,hero1subtitle,hero1buttontext,hero2image,hero2alt,hero2link,hero2title,hero2subtitle,hero2buttontext}=_ref;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("style",{children:'\n        body {\n    background-color: #dbe3ff;\n  }\n\n  .breadcrumb-section {\n    display: none;\n  }\n\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n  }\n  .christmas-hub {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 0 20px 20px;\n  }\n\n  .background-pattern h1 {\n    position: relative;\n    margin: 0 auto;\n    padding: 30px 0;\n    text-align: center;\n    max-width: 300px;\n  }\n\n  .background-pattern h1 img {\n    width: 100%;\n    height: auto;\n    display: block;\n  }\n\n  .christmas-hub .hero {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0 -10px;\n  }\n\n  .christmas-hub .hero .hero-panel {\n    width: 100%;\n    padding: 10px;\n  }\n\n  .christmas-hub .hero .hero-panel img {\n    width: 100%;\n    height: auto;\n    display: block;\n    transition: all 0.3s;\n  }\n\n  .christmas-hub .hero .hero-panel .panel-content {\n    background-color: #fff;\n    position: relative;\n    z-index: 2;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .christmas-hub .hero .hero-panel a {\n    text-align: center;\n    background-color: #fff;\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 0 0 10px rgba(3, 33, 33, 0.4);\n  }\n\n  .christmas-hub .hero .hero-panel a .title {\n    font: 26px/140% "VAG Rounded Std Bold", "Tahoma Bold", sans-serif;\n    color: #000;\n    margin-top: 10px;\n  }\n\n  .christmas-hub .hero .hero-panel a .subtitle {\n    font: 18px/140% "VAG Rounded Std Bold", "Tahoma Bold", sans-serif;\n    color: #000;\n    margin: 10px 0;\n  }\n\n  .christmas-hub .hero .hero-panel a .button {\n    transition: all 0.3s;\n    border-radius: 10px;\n    background-color: #991715;\n    color: #fff;\n    min-height: 45px;\n    padding: 5px 15px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .christmas-hub .hero .hero-panel a:hover img {\n    transform: scale(1.1);\n  }\n\n  .christmas-hub .hero .hero-panel a:hover .button {\n    transform: scale(1.1);\n  }\n\n  @media (min-width: 768px) {\n  .christmas-hub h1 {\n      max-width: 500px;\n    }\n    .christmas-hub .hero .hero-panel {\n      width: 50%;\n    }\n  }\n'}),(0,jsx_runtime.jsx)("div",{class:"background-pattern",style:{backgroundImage:"url(".concat(bannerBackgroundPattern,")")},children:(0,jsx_runtime.jsxs)("h1",{children:[(0,jsx_runtime.jsx)("img",{alt:bannerImageAlt,class:"christmas-title-desktop",src:bannerImage,title:"Welcome to Santa's Toy Shop"}),(0,jsx_runtime.jsx)("span",{class:"sr-only",children:"Welcome to Santa's Toy Shop"})]})}),(0,jsx_runtime.jsx)("div",{class:"christmas-hub",children:(0,jsx_runtime.jsxs)("div",{class:"hero",children:[(0,jsx_runtime.jsx)("div",{class:"hero-panel",children:(0,jsx_runtime.jsxs)("a",{href:hero1link,children:[(0,jsx_runtime.jsx)("img",{src:hero1image,alt:hero1alt}),(0,jsx_runtime.jsxs)("div",{class:"panel-content",children:[(0,jsx_runtime.jsx)("div",{class:"title",children:hero1title}),(0,jsx_runtime.jsx)("div",{class:"subtitle",children:hero1subtitle}),(0,jsx_runtime.jsx)("span",{class:"button",children:hero1buttontext})]})]})}),(0,jsx_runtime.jsx)("div",{class:"hero-panel",children:(0,jsx_runtime.jsxs)("a",{href:hero2link,children:[(0,jsx_runtime.jsx)("img",{src:hero2image,alt:hero2alt}),(0,jsx_runtime.jsxs)("div",{class:"panel-content",children:[(0,jsx_runtime.jsx)("div",{class:"title",children:hero2title}),(0,jsx_runtime.jsx)("div",{class:"subtitle",children:hero2subtitle}),(0,jsx_runtime.jsx)("span",{class:"button",children:hero2buttontext})]})]})})]})})]})};ChristmasHero.__docgenInfo={description:"Primary UI component for user interaction",methods:[],displayName:"ChristmasHero",props:{bannerImage:{description:"Hub Hero contents",type:{name:"string"},required:!1},bannerImageAlt:{description:"",type:{name:"string"},required:!1},bannerBackgroundPattern:{description:"",type:{name:"string"},required:!1},hero1image:{description:"",type:{name:"string"},required:!0},hero1alt:{description:"",type:{name:"string"},required:!1},hero1link:{description:"",type:{name:"string"},required:!0},hero1title:{description:"",type:{name:"string"},required:!1},hero1subtitle:{description:"",type:{name:"string"},required:!1},hero1buttontext:{description:"",type:{name:"string"},required:!1},hero2image:{description:"",type:{name:"string"},required:!0},hero2alt:{description:"",type:{name:"string"},required:!1},hero2link:{description:"",type:{name:"string"},required:!0},hero2title:{description:"",type:{name:"string"},required:!1},hero2subtitle:{description:"",type:{name:"string"},required:!1},hero2buttontext:{description:"",type:{name:"string"},required:!1}}};var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api");const Christmashero_stories={title:"Christmas/Christmas Hero",component:ChristmasHero,parameters:{layout:"centered"}},ChristmasHeroPods={args:{bannerImage:"",bannerImageAlt:"",bannerBackgroundPattern:"",hero1image:"",hero1alt:"",hero1link:"",hero1title:"",hero1subtitle:"",hero1buttontext:"",hero2image:"",hero2alt:"",hero2link:"",hero2title:"",hero2subtitle:"",hero2buttontext:""},render:function Render(args){const[currentArgs,updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)(),hasLoadedFromFirestore=(0,react.useRef)(!1);(0,react.useEffect)((()=>{(async()=>{try{const docRef=(0,index_esm.H9)(firebase.db,"stories","christmashero"),snapshot=await(0,index_esm.x7)(docRef);if(snapshot.exists()){const data=snapshot.data();updateArgs((0,objectSpread2.A)((0,objectSpread2.A)({},args),data))}else console.warn("No such document: christmashero")}catch(err){console.error("Error fetching from Firestore:",err)}finally{hasLoadedFromFirestore.current=!0}})()}),[]);const syncAllArgsToFirebase=(0,react.useCallback)((async newArgs=>{if(hasLoadedFromFirestore.current)try{const docRef=(0,index_esm.H9)(firebase.db,"stories","christmashero"),cleanedArgs={};for(const[key,value]of Object.entries(newArgs))cleanedArgs[key]="string"==typeof value&&""===value.trim()?"":value;await(0,index_esm.mZ)(docRef,cleanedArgs),console.log("✅ Firestore updated:",cleanedArgs)}catch(err){console.error("Error updating Firestore:",err)}}),[]);return(0,react.useEffect)((()=>{hasLoadedFromFirestore.current&&syncAllArgsToFirebase(currentArgs)}),[currentArgs,syncAllArgsToFirebase]),(0,jsx_runtime.jsx)(ChristmasHero,(0,objectSpread2.A)({},args))}},__namedExportsOrder=["ChristmasHeroPods"];ChristmasHeroPods.parameters={...ChristmasHeroPods.parameters,docs:{...ChristmasHeroPods.parameters?.docs,source:{originalSource:"{\n  args: {\n    bannerImage: '',\n    bannerImageAlt: '',\n    bannerBackgroundPattern: '',\n    hero1image: '',\n    hero1alt: '',\n    hero1link: '',\n    hero1title: '',\n    hero1subtitle: '',\n    hero1buttontext: '',\n    hero2image: '',\n    hero2alt: '',\n    hero2link: '',\n    hero2title: '',\n    hero2subtitle: '',\n    hero2buttontext: ''\n  },\n  render: function Render(args) {\n    const [currentArgs, updateArgs] = useArgs();\n    const hasLoadedFromFirestore = useRef(false);\n\n    // --- Load all fields from Firestore once ---\n    useEffect(() => {\n      const loadFromFirebase = async () => {\n        try {\n          const docRef = doc(db, 'stories', 'christmashero');\n          const snapshot = await getDoc(docRef);\n          if (snapshot.exists()) {\n            const data = snapshot.data();\n\n            // Merge data from Firestore into Storybook args\n            updateArgs({\n              ...args,\n              ...data\n            });\n          } else {\n            console.warn('No such document: christmashero');\n          }\n        } catch (err) {\n          console.error('Error fetching from Firestore:', err);\n        } finally {\n          hasLoadedFromFirestore.current = true;\n        }\n      };\n      loadFromFirebase();\n    }, []);\n\n    // --- Generic Firestore sync for all fields ---\n    const syncAllArgsToFirebase = useCallback(async newArgs => {\n      if (!hasLoadedFromFirestore.current) return; // skip before load\n\n      try {\n        const docRef = doc(db, 'stories', 'christmashero');\n\n        // Clean values before saving\n        const cleanedArgs = {};\n        for (const [key, value] of Object.entries(newArgs)) {\n          // Normalize empty values to empty strings\n          cleanedArgs[key] = typeof value === 'string' && value.trim() === '' ? '' : value;\n        }\n        await updateDoc(docRef, cleanedArgs);\n        console.log('✅ Firestore updated:', cleanedArgs);\n      } catch (err) {\n        console.error('Error updating Firestore:', err);\n      }\n    }, []);\n\n    // --- Watch for *any* arg change and sync ---\n    useEffect(() => {\n      if (!hasLoadedFromFirestore.current) return;\n      syncAllArgsToFirebase(currentArgs);\n    }, [currentArgs, syncAllArgsToFirebase]);\n    return <ChristmasHero {...args} />;\n  }\n}",...ChristmasHeroPods.parameters?.docs?.source}}}}}]);