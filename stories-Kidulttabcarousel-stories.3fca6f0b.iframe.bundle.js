"use strict";(self.webpackChunkentertainer_redesign=self.webpackChunkentertainer_redesign||[]).push([[493],{"./src/config/firebase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{db:()=>db});var firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/firebase/app/dist/esm/index.esm.js"),firebase_firestore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js");const app=(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.Wp)({apiKey:"AIzaSyDLmVO4qOiYb8dTm9tIUSUyZZXliuddo1c",authDomain:"storybook-58efc.firebaseapp.com",projectId:"storybook-58efc",storageBucket:"storybook-58efc.firebasestorage.app",messagingSenderId:"10714570266",appId:"1:10714570266:web:1086b72b26588d72193ba3"}),db=(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.aU)(app)},"./src/stories/Kidulttabcarousel.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{KidultCarouselContent:()=>KidultCarouselContent,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Kidulttabcarousel_stories});var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),firebase=__webpack_require__("./src/config/firebase.js"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const KidultCarousel=_ref=>{let{carouseltitle,roundal1image,roundal1alt,roundal1link,roundal1buttontext,roundal2image,roundal2alt,roundal2link,roundal2buttontext,roundal3image,roundal3alt,roundal3link,roundal3buttontext,roundal4image,roundal4alt,roundal4link,roundal4buttontext,roundal5image,roundal5alt,roundal5link,roundal5buttontext,roundal6image,roundal6alt,roundal6link,roundal6buttontext,roundal7image,roundal7alt,roundal7link,roundal7buttontext,roundal8image,roundal8alt,roundal8link,roundal8buttontext,roundal9image,roundal9alt,roundal9link,roundal9buttontext,roundal10image,roundal10alt,roundal10link,roundal10buttontext,roundal11image,roundal11alt,roundal11link,roundal11buttontext,roundal12image,roundal12alt,roundal12link,roundal12buttontext,roundal13image,roundal13alt,roundal13link,roundal13buttontext,roundal14image,roundal14alt,roundal14link,roundal14buttontext,roundal15image,roundal15alt,roundal15link,roundal15buttontext,roundal16image,roundal16alt,roundal16link,roundal16buttontext,roundal17image,roundal17alt,roundal17link,roundal17buttontext,roundal18image,roundal18alt,roundal18link,roundal18buttontext,roundal19image,roundal19alt,roundal19link,roundal19buttontext,roundal20image,roundal20alt,roundal20link,roundal20buttontext}=_ref;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{class:"kidult",children:(0,jsx_runtime.jsxs)("div",{class:"kidult-content",children:[(0,jsx_runtime.jsx)("h3",{children:carouseltitle}),(0,jsx_runtime.jsxs)("div",{class:"carousel js-flickity flickity-enabled is-draggable","data-flickity":'{ "autoPlay": true, "wrapAround": true, "cellAlign": "left" }',children:[(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal1link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal1image,alt:roundal1alt})}),(0,jsx_runtime.jsx)("button",{href:roundal1link,class:"roundal-button",children:roundal1buttontext})]})})}),roundal2image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal2link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal2image,alt:roundal2alt})}),(0,jsx_runtime.jsx)("button",{href:roundal2link,class:"roundal-button",children:roundal2buttontext})]})})}),roundal3image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal3link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal3image,alt:roundal3alt})}),(0,jsx_runtime.jsx)("button",{href:roundal3link,class:"roundal-button",children:roundal3buttontext})]})})}),roundal4image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal4link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal4image,alt:roundal4alt})}),(0,jsx_runtime.jsx)("button",{href:roundal4link,class:"roundal-button",children:roundal4buttontext})]})})}),roundal5image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal5link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal5image,alt:roundal5alt})}),(0,jsx_runtime.jsx)("button",{href:roundal5link,class:"roundal-button",children:roundal5buttontext})]})})}),roundal6image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal6link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal6image,alt:roundal6alt})}),(0,jsx_runtime.jsx)("button",{href:roundal6link,class:"roundal-button",children:roundal6buttontext})]})})}),roundal7image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal7link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal7image,alt:roundal7alt})}),(0,jsx_runtime.jsx)("button",{href:roundal7link,class:"roundal-button",children:roundal7buttontext})]})})}),roundal8image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal8link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal8image,alt:roundal8alt})}),(0,jsx_runtime.jsx)("button",{href:roundal8link,class:"roundal-button",children:roundal8buttontext})]})})}),roundal9image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal9link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal9image,alt:roundal9alt})}),(0,jsx_runtime.jsx)("button",{href:roundal9link,class:"roundal-button",children:roundal9buttontext})]})})}),roundal10image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal10link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal10image,alt:roundal10alt})}),(0,jsx_runtime.jsx)("button",{href:roundal10link,class:"roundal-button",children:roundal10buttontext})]})})}),roundal11image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal11link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal11image,alt:roundal11alt})}),(0,jsx_runtime.jsx)("button",{href:roundal11link,class:"roundal-button",children:roundal11buttontext})]})})}),roundal12image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal12link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal12image,alt:roundal12alt})}),(0,jsx_runtime.jsx)("button",{href:roundal12link,class:"roundal-button",children:roundal12buttontext})]})})}),roundal13image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal13link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal13image,alt:roundal13alt})}),(0,jsx_runtime.jsx)("button",{href:roundal13link,class:"roundal-button",children:roundal13buttontext})]})})}),roundal14image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal14link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal14image,alt:roundal14alt})}),(0,jsx_runtime.jsx)("button",{href:roundal14link,class:"roundal-button",children:roundal14buttontext})]})})}),roundal15image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal15link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal15image,alt:roundal15alt})}),(0,jsx_runtime.jsx)("button",{href:roundal15link,class:"roundal-button",children:roundal15buttontext})]})})}),roundal16image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal16link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal16image,alt:roundal16alt})}),(0,jsx_runtime.jsx)("button",{href:roundal16link,class:"roundal-button",children:roundal16buttontext})]})})}),roundal17image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal17link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal17image,alt:roundal17alt})}),(0,jsx_runtime.jsx)("button",{href:roundal17link,class:"roundal-button",children:roundal17buttontext})]})})}),roundal18image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal18link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal18image,alt:roundal18alt})}),(0,jsx_runtime.jsx)("button",{href:roundal18link,class:"roundal-button",children:roundal18buttontext})]})})}),roundal19image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal19link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal19image,alt:roundal19alt})}),(0,jsx_runtime.jsx)("button",{href:roundal19link,class:"roundal-button",children:roundal19buttontext})]})})}),roundal20image&&(0,jsx_runtime.jsx)("div",{class:"carousel-cell",children:(0,jsx_runtime.jsx)("div",{class:"roundal",children:(0,jsx_runtime.jsxs)("a",{href:roundal20link,class:"outer-link",children:[(0,jsx_runtime.jsx)("div",{class:"roundal-image",children:(0,jsx_runtime.jsx)("img",{src:roundal20image,alt:roundal20alt})}),(0,jsx_runtime.jsx)("button",{href:roundal20link,class:"roundal-button",children:roundal20buttontext})]})})})]})]})})})};KidultCarousel.__docgenInfo={description:"Primary UI component for user interaction",methods:[],displayName:"KidultCarousel",props:{carouseltitle:{description:"Kidult Tab contents",type:{name:"string"},required:!1},roundal1image:{description:"",type:{name:"string"},required:!0},roundal1alt:{description:"",type:{name:"string"},required:!0},roundal1link:{description:"",type:{name:"string"},required:!0},roundal1buttontext:{description:"",type:{name:"string"},required:!1},roundal2image:{description:"",type:{name:"string"},required:!1},roundal2alt:{description:"",type:{name:"string"},required:!1},roundal2link:{description:"",type:{name:"string"},required:!1},roundal2buttontext:{description:"",type:{name:"string"},required:!1},roundal3image:{description:"",type:{name:"string"},required:!1},roundal3alt:{description:"",type:{name:"string"},required:!1},roundal3link:{description:"",type:{name:"string"},required:!1},roundal3buttontext:{description:"",type:{name:"string"},required:!1},roundal4image:{description:"",type:{name:"string"},required:!1},roundal4alt:{description:"",type:{name:"string"},required:!1},roundal4link:{description:"",type:{name:"string"},required:!1},roundal4buttontext:{description:"",type:{name:"string"},required:!1},roundal5image:{description:"",type:{name:"string"},required:!1},roundal5alt:{description:"",type:{name:"string"},required:!1},roundal5link:{description:"",type:{name:"string"},required:!1},roundal5buttontext:{description:"",type:{name:"string"},required:!1},roundal6image:{description:"",type:{name:"string"},required:!1},roundal6alt:{description:"",type:{name:"string"},required:!1},roundal6link:{description:"",type:{name:"string"},required:!1},roundal6buttontext:{description:"",type:{name:"string"},required:!1},roundal7image:{description:"",type:{name:"string"},required:!1},roundal7alt:{description:"",type:{name:"string"},required:!1},roundal7link:{description:"",type:{name:"string"},required:!1},roundal7buttontext:{description:"",type:{name:"string"},required:!1},roundal8image:{description:"",type:{name:"string"},required:!1},roundal8alt:{description:"",type:{name:"string"},required:!1},roundal8link:{description:"",type:{name:"string"},required:!1},roundal8buttontext:{description:"",type:{name:"string"},required:!1},roundal9image:{description:"",type:{name:"string"},required:!1},roundal9alt:{description:"",type:{name:"string"},required:!1},roundal9link:{description:"",type:{name:"string"},required:!1},roundal9buttontext:{description:"",type:{name:"string"},required:!1},roundal10image:{description:"",type:{name:"string"},required:!1},roundal10alt:{description:"",type:{name:"string"},required:!1},roundal10link:{description:"",type:{name:"string"},required:!1},roundal10buttontext:{description:"",type:{name:"string"},required:!1},roundal11image:{description:"",type:{name:"string"},required:!1},roundal11alt:{description:"",type:{name:"string"},required:!1},roundal11link:{description:"",type:{name:"string"},required:!1},roundal11buttontext:{description:"",type:{name:"string"},required:!1},roundal12image:{description:"",type:{name:"string"},required:!1},roundal12alt:{description:"",type:{name:"string"},required:!1},roundal12link:{description:"",type:{name:"string"},required:!1},roundal12buttontext:{description:"",type:{name:"string"},required:!1},roundal13image:{description:"",type:{name:"string"},required:!1},roundal13alt:{description:"",type:{name:"string"},required:!1},roundal13link:{description:"",type:{name:"string"},required:!1},roundal13buttontext:{description:"",type:{name:"string"},required:!1},roundal14image:{description:"",type:{name:"string"},required:!1},roundal14alt:{description:"",type:{name:"string"},required:!1},roundal14link:{description:"",type:{name:"string"},required:!1},roundal14buttontext:{description:"",type:{name:"string"},required:!1},roundal15image:{description:"",type:{name:"string"},required:!1},roundal15alt:{description:"",type:{name:"string"},required:!1},roundal15link:{description:"",type:{name:"string"},required:!1},roundal15buttontext:{description:"",type:{name:"string"},required:!1},roundal16image:{description:"",type:{name:"string"},required:!1},roundal16alt:{description:"",type:{name:"string"},required:!1},roundal16link:{description:"",type:{name:"string"},required:!1},roundal16buttontext:{description:"",type:{name:"string"},required:!1},roundal17image:{description:"",type:{name:"string"},required:!1},roundal17alt:{description:"",type:{name:"string"},required:!1},roundal17link:{description:"",type:{name:"string"},required:!1},roundal17buttontext:{description:"",type:{name:"string"},required:!1},roundal18image:{description:"",type:{name:"string"},required:!1},roundal18alt:{description:"",type:{name:"string"},required:!1},roundal18link:{description:"",type:{name:"string"},required:!1},roundal18buttontext:{description:"",type:{name:"string"},required:!1},roundal19image:{description:"",type:{name:"string"},required:!1},roundal19alt:{description:"",type:{name:"string"},required:!1},roundal19link:{description:"",type:{name:"string"},required:!1},roundal19buttontext:{description:"",type:{name:"string"},required:!1},roundal20image:{description:"",type:{name:"string"},required:!1},roundal20alt:{description:"",type:{name:"string"},required:!1},roundal20link:{description:"",type:{name:"string"},required:!1},roundal20buttontext:{description:"",type:{name:"string"},required:!1}}};var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api");const _excluded=["user"],Kidulttabcarousel_stories={title:"Kidult/Carousel",component:KidultCarousel,parameters:{layout:"centered"},argTypes:{user:{options:["stories","hasina","shermin","sam"],control:{type:"select"}}}},KidultCarouselContent={args:{user:"stories",carouseltitle:"",roundal1image:"",roundal1alt:"",roundal1link:"",roundal1buttontext:"",roundal2image:"",roundal2alt:"",roundal2link:"",roundal2buttontext:"",roundal3image:"",roundal3alt:"",roundal3link:"",roundal3buttontext:"",roundal4image:"",roundal4alt:"",roundal4link:"",roundal4buttontext:"",roundal5image:"",roundal5alt:"",roundal5link:"",roundal5buttontext:"",roundal6image:"",roundal6alt:"",roundal6link:"",roundal6buttontext:"",roundal7image:"",roundal7alt:"",roundal7link:"",roundal7buttontext:"",roundal8image:"",roundal8alt:"",roundal8link:"",roundal8buttontext:"",roundal9image:"",roundal9alt:"",roundal9link:"",roundal9buttontext:"",roundal10image:"",roundal10alt:"",roundal10link:"",roundal10buttontext:"",roundal11image:"",roundal11alt:"",roundal11link:"",roundal11buttontext:"",roundal12image:"",roundal12alt:"",roundal12link:"",roundal12buttontext:""},render:function Render(args){const[currentArgs,updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)(),isLoadingRef=(0,react.useRef)(!1),lastUserRef=(0,react.useRef)(args.user),lastSyncedData=(0,react.useRef)({});return(0,react.useEffect)((()=>{(async()=>{isLoadingRef.current=!0,lastUserRef.current=args.user;try{const docRef=(0,index_esm.H9)(firebase.db,args.user,"kidultcarousel"),snap=await(0,index_esm.x7)(docRef);if(snap.exists()){const firestoreData=snap.data();lastSyncedData.current=firestoreData,updateArgs((0,objectSpread2.A)((0,objectSpread2.A)((0,objectSpread2.A)({},currentArgs),firestoreData),{},{user:args.user}))}}catch(e){console.error("Firestore load error:",e)}isLoadingRef.current=!1})()}),[args.user]),(0,react.useEffect)((()=>{if(isLoadingRef.current)return;const selectedUser=lastUserRef.current;if(currentArgs.user!==selectedUser)return;const{user}=currentArgs,fields=(0,objectWithoutProperties.A)(currentArgs,_excluded),prevFields=lastSyncedData.current;if(!Object.entries(fields).some((_ref=>{let[k,v]=_ref;return prevFields[k]!==v})))return;lastSyncedData.current=fields;(async()=>{try{const docRef=(0,index_esm.H9)(firebase.db,selectedUser,"kidultcarousel");await(0,index_esm.mZ)(docRef,fields),console.log("UPDATED:",selectedUser,fields)}catch(e){console.error("Firestore update error:",e)}})()}),[currentArgs]),(0,jsx_runtime.jsx)(KidultCarousel,(0,objectSpread2.A)({},args))}},__namedExportsOrder=["KidultCarouselContent"];KidultCarouselContent.parameters={...KidultCarouselContent.parameters,docs:{...KidultCarouselContent.parameters?.docs,source:{originalSource:"{\n  args: {\n    user: 'stories',\n    carouseltitle: '',\n    roundal1image: '',\n    roundal1alt: '',\n    roundal1link: '',\n    roundal1buttontext: '',\n    roundal2image: '',\n    roundal2alt: '',\n    roundal2link: '',\n    roundal2buttontext: '',\n    roundal3image: '',\n    roundal3alt: '',\n    roundal3link: '',\n    roundal3buttontext: '',\n    roundal4image: '',\n    roundal4alt: '',\n    roundal4link: '',\n    roundal4buttontext: '',\n    roundal5image: '',\n    roundal5alt: '',\n    roundal5link: '',\n    roundal5buttontext: '',\n    roundal6image: '',\n    roundal6alt: '',\n    roundal6link: '',\n    roundal6buttontext: '',\n    roundal7image: '',\n    roundal7alt: '',\n    roundal7link: '',\n    roundal7buttontext: '',\n    roundal8image: '',\n    roundal8alt: '',\n    roundal8link: '',\n    roundal8buttontext: '',\n    roundal9image: '',\n    roundal9alt: '',\n    roundal9link: '',\n    roundal9buttontext: '',\n    roundal10image: '',\n    roundal10alt: '',\n    roundal10link: '',\n    roundal10buttontext: '',\n    roundal11image: '',\n    roundal11alt: '',\n    roundal11link: '',\n    roundal11buttontext: '',\n    roundal12image: '',\n    roundal12alt: '',\n    roundal12link: '',\n    roundal12buttontext: ''\n  },\n  render: function Render(args) {\n    const [currentArgs, updateArgs] = useArgs();\n    const isLoadingRef = useRef(false); // prevents writing during load\n    const lastUserRef = useRef(args.user); // track selected user\n    const lastSyncedData = useRef({}); // prevent write loops\n\n    // -------------------------------------------------------\n    // 1. LOAD DATA FROM SELECTED USER\n    // -------------------------------------------------------\n    useEffect(() => {\n      const load = async () => {\n        isLoadingRef.current = true; // BLOCK updates\n        lastUserRef.current = args.user;\n        try {\n          const docRef = doc(db, args.user, \"kidultcarousel\");\n          const snap = await getDoc(docRef);\n          if (snap.exists()) {\n            const firestoreData = snap.data();\n            lastSyncedData.current = firestoreData;\n\n            // Replace storybook args with loaded data\n            updateArgs({\n              ...currentArgs,\n              ...firestoreData,\n              user: args.user\n            });\n          }\n        } catch (e) {\n          console.error(\"Firestore load error:\", e);\n        }\n        isLoadingRef.current = false; // allow updates again\n      };\n      load();\n    }, [args.user]);\n\n    // -------------------------------------------------------\n    // 2. SYNC ONLY FIELD CHANGES (NOT USER CHANGE)\n    // -------------------------------------------------------\n    useEffect(() => {\n      if (isLoadingRef.current) return; // Don't sync during load\n\n      const selectedUser = lastUserRef.current;\n\n      // Don't sync if this change is caused by selecting a new user\n      if (currentArgs.user !== selectedUser) return;\n\n      // Remove user field before writing\n      const {\n        user,\n        ...fields\n      } = currentArgs;\n\n      // Prevent re-writing unchanged data\n      const prevFields = lastSyncedData.current;\n      const changed = Object.entries(fields).some(([k, v]) => prevFields[k] !== v);\n      if (!changed) return;\n      lastSyncedData.current = fields;\n      const send = async () => {\n        try {\n          const docRef = doc(db, selectedUser, \"kidultcarousel\");\n          await updateDoc(docRef, fields);\n          console.log(\"UPDATED:\", selectedUser, fields);\n        } catch (e) {\n          console.error(\"Firestore update error:\", e);\n        }\n      };\n      send();\n    }, [currentArgs]);\n    return <KidultCarousel {...args} />;\n  }\n}",...KidultCarouselContent.parameters?.docs?.source}}}}}]);