"use strict";(self.webpackChunkentertainer_redesign=self.webpackChunkentertainer_redesign||[]).push([[666],{"./src/config/firebase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{db:()=>db});var firebase_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/firebase/app/dist/esm/index.esm.js"),firebase_firestore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js");const app=(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.Wp)({apiKey:"AIzaSyDLmVO4qOiYb8dTm9tIUSUyZZXliuddo1c",authDomain:"storybook-58efc.firebaseapp.com",projectId:"storybook-58efc",storageBucket:"storybook-58efc.firebasestorage.app",messagingSenderId:"10714570266",appId:"1:10714570266:web:1086b72b26588d72193ba3"}),db=(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.aU)(app)},"./src/stories/Marketingbanners.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MarketingBannersHome:()=>MarketingBannersHome,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Marketingbanners_stories});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),firebase=__webpack_require__("./src/config/firebase.js"),index_esm=__webpack_require__("./node_modules/firebase/firestore/dist/esm/index.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const MarketingBanners=_ref=>{let{banner1image,banner1alt,banner1link,banner1dataElementType,banner1datapromotionindex,banner1datapromotionname,banner2image,banner2alt,banner2link,banner2dataElementType,banner2datapromotionindex,banner2datapromotionname}=_ref;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("style",{children:"\n    .hp-small-banners-redesign {\n      margin: 0;\n      padding: 10px 0 30px;\n      width: 100%;\n      background: #dbe3ff;\n    }\n  \n    .hp-small-banners-redesign ul {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-between;\n      margin: 0 auto;\n      padding: 0 20px;\n      list-style: none;\n      max-width: 1200px;\n    }\n  \n    .hp-small-banners-redesign ul li {\n      margin: 0 0 20px;\n      padding: 0;\n      text-align: center;\n      transition: opacity 0.5s;\n      -webkit-transition: opacity 0.5s;\n      opacity: 1;\n    }\n  \n    .hp-small-banners-redesign ul li:last-child {\n      margin: 0;\n    }\n  \n    .hp-small-banners-redesign ul li:hover {\n      opacity: 0.5;\n    }\n  \n    .hp-small-banners-redesign ul li a {\n      display: block;\n    }\n  \n    .hp-small-banners-redesign ul li a img {\n      width: 100%;\n      border: solid 2px #ffffff;\n      border-radius: 8px;\n    }\n  \n    @media (min-width: 768px) {\n      .hp-small-banners-redesign {\n        padding: 50px 30px;\n      }\n  \n      .hp-small-banners-redesign ul {\n        margin: 0 auto;\n        padding: 0 0;\n      }\n  \n      .hp-small-banners-redesign ul li {\n        margin: 0 0 20px;\n        width: calc(100% / 2 - 10px);\n      }\n    }\n    "}),(0,jsx_runtime.jsx)("div",{class:"hp-small-banners-redesign",children:(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("a",{"data-element-type":banner1dataElementType,"data-promotion-index":banner1datapromotionindex,"data-promotion-name":banner1datapromotionname,href:banner1link,title:banner1alt,children:(0,jsx_runtime.jsx)("img",{alt:banner1alt,src:banner1image,title:banner1alt})})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("a",{"data-element-type":banner2dataElementType,"data-promotion-index":banner2datapromotionindex,"data-promotion-name":banner2datapromotionname,href:banner2link,title:banner2alt,children:(0,jsx_runtime.jsx)("img",{alt:banner2alt,src:banner2image,title:banner2alt})})})]})})]})};MarketingBanners.__docgenInfo={description:"Primary UI component for user interaction",methods:[],displayName:"MarketingBanners",props:{banner1image:{description:"Button contents",type:{name:"string"},required:!0},banner1alt:{description:"",type:{name:"string"},required:!0},banner1link:{description:"",type:{name:"string"},required:!0},banner2image:{description:"",type:{name:"string"},required:!0},banner2alt:{description:"",type:{name:"string"},required:!0},banner2link:{description:"",type:{name:"string"},required:!0},banner1dataElementType:{description:"",type:{name:"string"},required:!1},banner1datapromotionindex:{description:"",type:{name:"string"},required:!1},banner1datapromotionname:{description:"",type:{name:"string"},required:!1},banner2dataElementType:{description:"",type:{name:"string"},required:!1},banner2datapromotionindex:{description:"",type:{name:"string"},required:!1},banner2datapromotionname:{description:"",type:{name:"string"},required:!1}}};var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api");const Marketingbanners_stories={title:"Home/Marketing Banners",component:MarketingBanners,parameters:{layout:"centered"}},MarketingBannersHome={args:{banner1image:"",banner1alt:"",banner1link:"",banner2image:"",banner2alt:"",banner2link:"",banner1dataElementType:"",banner1datapromotionindex:"",banner1datapromotionname:"",banner2dataElementType:"",banner2datapromotionindex:"",banner2datapromotionname:""},render:function Render(args){const[currentArgs,updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)(),hasLoadedFromFirestore=(0,react.useRef)(!1);(0,react.useEffect)((()=>{(async()=>{try{const docRef=(0,index_esm.H9)(firebase.db,"stories","marketingbanners"),snapshot=await(0,index_esm.x7)(docRef);if(snapshot.exists()){const data=snapshot.data();updateArgs((0,objectSpread2.A)((0,objectSpread2.A)({},args),data))}else console.warn("No such document: marketingbanners")}catch(err){console.error("Error fetching from Firestore:",err)}finally{hasLoadedFromFirestore.current=!0}})()}),[]);const syncAllArgsToFirebase=(0,react.useCallback)((async newArgs=>{if(hasLoadedFromFirestore.current)try{const docRef=(0,index_esm.H9)(firebase.db,"stories","marketingbanners"),cleanedArgs={};for(const[key,value]of Object.entries(newArgs))cleanedArgs[key]="string"==typeof value&&""===value.trim()?"":value;await(0,index_esm.mZ)(docRef,cleanedArgs),console.log("✅ Firestore updated:",cleanedArgs)}catch(err){console.error("Error updating Firestore:",err)}}),[]);return(0,react.useEffect)((()=>{hasLoadedFromFirestore.current&&syncAllArgsToFirebase(currentArgs)}),[currentArgs,syncAllArgsToFirebase]),(0,jsx_runtime.jsx)(MarketingBanners,(0,objectSpread2.A)({},args))}},__namedExportsOrder=["MarketingBannersHome"];MarketingBannersHome.parameters={...MarketingBannersHome.parameters,docs:{...MarketingBannersHome.parameters?.docs,source:{originalSource:"{\n  args: {\n    banner1image: '',\n    banner1alt: '',\n    banner1link: '',\n    banner2image: '',\n    banner2alt: '',\n    banner2link: '',\n    banner1dataElementType: '',\n    banner1datapromotionindex: '',\n    banner1datapromotionname: '',\n    banner2dataElementType: '',\n    banner2datapromotionindex: '',\n    banner2datapromotionname: ''\n  },\n  render: function Render(args) {\n    const [currentArgs, updateArgs] = useArgs();\n    const hasLoadedFromFirestore = useRef(false);\n\n    // --- Load all fields from Firestore once ---\n    useEffect(() => {\n      const loadFromFirebase = async () => {\n        try {\n          const docRef = doc(db, 'stories', 'marketingbanners');\n          const snapshot = await getDoc(docRef);\n          if (snapshot.exists()) {\n            const data = snapshot.data();\n\n            // Merge data from Firestore into Storybook args\n            updateArgs({\n              ...args,\n              ...data\n            });\n          } else {\n            console.warn('No such document: marketingbanners');\n          }\n        } catch (err) {\n          console.error('Error fetching from Firestore:', err);\n        } finally {\n          hasLoadedFromFirestore.current = true;\n        }\n      };\n      loadFromFirebase();\n    }, []);\n\n    // --- Generic Firestore sync for all fields ---\n    const syncAllArgsToFirebase = useCallback(async newArgs => {\n      if (!hasLoadedFromFirestore.current) return; // skip before load\n\n      try {\n        const docRef = doc(db, 'stories', 'marketingbanners');\n\n        // Clean values before saving\n        const cleanedArgs = {};\n        for (const [key, value] of Object.entries(newArgs)) {\n          // Normalize empty values to empty strings\n          cleanedArgs[key] = typeof value === 'string' && value.trim() === '' ? '' : value;\n        }\n        await updateDoc(docRef, cleanedArgs);\n        console.log('✅ Firestore updated:', cleanedArgs);\n      } catch (err) {\n        console.error('Error updating Firestore:', err);\n      }\n    }, []);\n\n    // --- Watch for *any* arg change and sync ---\n    useEffect(() => {\n      if (!hasLoadedFromFirestore.current) return;\n      syncAllArgsToFirebase(currentArgs);\n    }, [currentArgs, syncAllArgsToFirebase]);\n    return <MarketingBanners {...args} />;\n  }\n}",...MarketingBannersHome.parameters?.docs?.source}}}}}]);